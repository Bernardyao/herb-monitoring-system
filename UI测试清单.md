# 🧪 UI功能测试清单

## ✅ 测试前准备
- [ ] 关闭所有运行中的程序实例
- [ ] 删除 `data` 目录重置数据库（可选）
- [ ] 确认编译成功

---

## 1️⃣ 登录界面测试

### 测试点1: 界面布局
- [ ] 标题"中药种植监控系统-登录"居中显示
- [ ] "账号"和"密码"标签完美对齐
- [ ] 输入框长度一致
- [ ] 按钮居中排列

### 测试点2: Enter键登录
1. [ ] 在账号框输入"admin"
2. [ ] 按Tab键切换到密码框
3. [ ] 输入"admin"
4. [ ] **按Enter键** → 应该成功登录并跳转主窗口

### 测试点3: 错误处理
- [ ] 输入错误密码 → 显示"账号密码错误"
- [ ] 点击"重置" → 清空输入框

---

## 2️⃣ 主窗口布局测试

### 测试点4: 三层控制面板
运行程序后检查底部面板：
- [ ] 第一层显示"数据管理"标题和4个按钮
- [ ] 第二层显示"数据采集"标题和采集控件
- [ ] 第三层显示"自动监控"标题和周期采集按钮
- [ ] 每层之间有清晰的边框分隔
- [ ] 图标显示正常（▶ 和 ⏸）

---

## 3️⃣ 新增传感器对话框测试（重点优化部分）

### 测试点5: 下拉框功能
1. [ ] 点击"新增"按钮
2. [ ] 检查"传感器类型"是否为**下拉框**（不是文本框）
3. [ ] 下拉框包含两个选项："温度传感器"和"湿度传感器"

### 测试点6: 协议自动联动
1. [ ] 在新增对话框中选择"温度传感器"
2. [ ] **自动检查**: "通信协议"应该自动变为"TCP"
3. [ ] 切换选择"湿度传感器"
4. [ ] **自动检查**: "通信协议"应该自动变为"UDP"

### 测试点7: 完整新增流程
1. [ ] 传感器ID输入: `TEMP003`
2. [ ] 传感器类型选择: `温度传感器`
3. [ ] 安装位置输入: `当归区`
4. [ ] 通信协议: 应该自动显示`TCP`
5. [ ] 点击"确定" → 表格应显示新增记录

### 测试点8: 修改对话框
1. [ ] 选中表格中的一条记录
2. [ ] 点击"修改"
3. [ ] **检查**: 传感器ID字段应该不可编辑（灰色）
4. [ ] **检查**: 其他字段应该预填充现有数据
5. [ ] 修改位置为"人参区"
6. [ ] 点击"确定" → 表格更新

---

## 4️⃣ 数据采集功能测试

### 测试点9: 表格联动
1. [ ] 在表格中点击一条记录
2. [ ] **自动检查**: "传感器ID"输入框自动填充
3. [ ] **自动检查**: "传感器类型"下拉框自动选择对应类型

### 测试点10: 单次采集
1. [ ] 选择传感器类型: `温度传感器/TCP`
2. [ ] 传感器ID: `TEMP001`
3. [ ] 点击"采集传感器数据"
4. [ ] 应弹出对话框显示采集结果（包含时间、数值等）

### 测试点11: 周期采集
1. [ ] 选择传感器和ID
2. [ ] 点击"▶ 启动周期采集"
3. [ ] 每5秒应弹出一次采集结果
4. [ ] 点击"⏸ 停止周期采集" → 停止弹窗

---

## 5️⃣ 边界测试

### 测试点12: 空值验证
1. [ ] 新增时传感器ID留空 → 应提示"传感器ID不能为空"
2. [ ] 采集时不选择传感器 → 应提示错误

### 测试点13: 操作流畅性
1. [ ] 快速连续点击"采集"按钮3次
2. [ ] 界面不应冻结
3. [ ] 应弹出3个结果对话框

---

## 📸 关键截图位置

### 必须截图的界面：
1. **登录界面** - 展示标签对齐效果
2. **主窗口** - 展示三层控制面板
3. **新增对话框** - 展示下拉框选项
4. **协议联动** - 选择温度传感器时协议自动为TCP
5. **采集结果弹窗** - 显示数据采集成功

---

## ✨ 预期效果总结

### 优化前后对比

| 项目 | 优化前 ❌ | 优化后 ✅ |
|-----|---------|---------|
| 登录标签 | 位置错乱 | 完美对齐 |
| Enter登录 | 不支持 | 支持 |
| 传感器类型 | 文本框手动输入 | 下拉框选择 |
| 通信协议 | 手动输入 | 自动联动 |
| 新增界面 | 排布混乱 | GridBag整齐 |
| 标签命名 | "类型"、"协议" | "传感器类型"、"通信协议" |

---

## 🎯 测试通过标准

- ✅ 所有12个测试点通过
- ✅ 无界面错位或重叠
- ✅ 下拉框功能正常
- ✅ 协议自动联动生效
- ✅ 无控制台错误输出
- ✅ 用户操作流畅自然

---

## 🐛 常见问题排查

### Q1: 协议没有自动切换？
- 检查是否最新编译的代码
- 重新运行 `compile.bat`

### Q2: 对话框布局混乱？
- 确认使用了GridBagLayout
- 检查insets设置

### Q3: 下拉框显示为文本框？
- 检查代码中是否使用JComboBox
- 确认没有使用JTextField

---

**测试完成后**: 在`UI设计评审报告.md`中记录测试结果和截图。
